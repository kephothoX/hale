<div class="container">
  <section class="container-fluid">
    <mat-card>
      <mat-card-content>
        <mat-stepper [linear]="isLinear" #stepper>
          <mat-step [stepControl]="newSubscriptionPlanForm" label="New Subscription Plan">
            <form  class="form col-lg-6 col-md-10 col-sm-12"  [formGroup]="newSubscriptionPlanForm">
              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>ID</mat-label>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-hint align="end">Must start with # then One word without spaces. E.g #SubscriptionPlan</mat-hint>
                <input type="text" matInput formControlName="id" placeholder="ID">
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Name </mat-label>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-hint align="end">Type a Name and press 'Search' to find similar packages.</mat-hint>
                <button mat-mini-fab color="primary" class="text-white" (click)="findSimilarPackages()">
                  <mat-icon class="material-symbols-outlined">search</mat-icon>
                </button>
                <input type="text" matInput formControlName="name" placeholder="Name">
              </mat-form-field>
              <div class="spacer"></div>

               <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Version </mat-label>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-hint align="end"></mat-hint>
                <input type="number" matInput formControlName="version" placeholder="Name">
              </mat-form-field>
              <div class="spacer"></div>

            </form>
            <div class="alert alert-dark flex" rol="alert" *ngIf="SearchResults" contenteditable="true">{{ SearchResults }}</div>

            <mat-card-actions class="align-buttons-center">
              <button mat-raised-button color="accent" class="text-white" matStepperNext>
                <mat-icon class="material-symbols-outlined">keyboard_double_arrow_right</mat-icon>
                Next
              </button>

              <button type="submit" mat-raised-button [disabled]="!newSubscriptionPlanForm.valid"
                (click)="onSubmitSubscriptionPlan()"><mat-icon
                  class="material-symbols-outlined">add_circle</mat-icon>Add New
                Subscription Plan</button>
              <button type="reset" mat-raised-button color="warn" class="text-white"><mat-icon
                  class="material-symbols-outlined">cancel</mat-icon>Clear</button>
            </mat-card-actions>

          </mat-step>
          <mat-step [stepControl]="newSubscriptionPlanVariationForm" label="Add Subscription Plan Variation">
            <form  class="form col-lg-6 col-md-10 col-sm-12"  [formGroup]="newSubscriptionPlanVariationForm">
              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>ID</mat-label>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-hint align="end">Must start with # then One Word without spaces. E.g #SubscriptionPlanVariation</mat-hint>
                <input type="text" matInput formControlName="id" placeholder="ID">
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Name </mat-label>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-hint align="end"></mat-hint>
                <input type="text" matInput formControlName="name" placeholder="Name">
              </mat-form-field>
              <div class="spacer"></div>


              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Cadence</mat-label>
                <mat-hint align="end"></mat-hint>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-select formControlName="cadence">
                  <mat-option *ngFor="let cad of Cadence" [value]="cad.value">
                    {{ cad.value }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Currency</mat-label>
                <mat-hint align="end"></mat-hint>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-select formControlName="currency">
                  <mat-option *ngFor="let curr of Currency" [value]="curr.abbrv">
                    {{ curr.abbrv }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Amount</mat-label>
                <mat-hint align="end">Must Be Above 100</mat-hint>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <input type="number" matInput formControlName="amount" placeholder="Amount">
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Ordinal</mat-label>
                <mat-hint align="end"></mat-hint>
                <input type="number" matInput formControlName="ordinal" placeholder="Ordinal">
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
              </mat-form-field>
              <div class="spacer"></div>

              <mat-form-field appearance="fill" class="form-control p-1">
                <mat-label>Type</mat-label>
                <mat-hint align="end">Type of Transaction</mat-hint>
                <mat-icon matPrefix class="material-symbols-outlined">info</mat-icon>
                <mat-select formControlName="type">
                  <mat-option *ngFor="let typ of Type" [value]="typ.value">
                    {{ typ.value }}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <div class="spacer"></div>

            </form>

            <mat-card-actions class="align-buttons-center">
              <button mat-raised-button color="accent" class="text-white" matStepperPrevious>
                <mat-icon class="material-symbols-outlined">keyboard_double_arrow_left</mat-icon>
                Back
              </button>

              <button type="submit" mat-raised-button [disabled]="!newSubscriptionPlanVariationForm.valid"
                (click)="onSubmitSubscriptionPlanVariation()"><mat-icon
                  class="material-symbols-outlined">add_circle</mat-icon>Add New Subscription Plan Variation</button>

              <button type="reset" mat-raised-button color="warn" class="text-white"><mat-icon
                  class="material-symbols-outlined">cancel</mat-icon>Clear</button>

              <button mat-raised-button color="accent" class="text-white" matStepperNext>
                <mat-icon class="material-symbols-outlined">keyboard_double_arrow_right</mat-icon>
                Next
              </button>

            </mat-card-actions>
          </mat-step>
          <mat-step>
            <ng-template matStepLabel>Done</ng-template>
            <p>Subcription Created Successfully.
            <p>
            <div>
              <button mat-button matStepperPrevious>Back</button>
              <button mat-button (click)="stepper.reset()">Reset</button>
            </div>
          </mat-step>
        </mat-stepper>

      </mat-card-content>
    </mat-card>

  </section>
</div>
